---
layout: post
categories: cybersecurity
title: Exploits and Metasploit
link: https://collab.its.virginia.edu/access/content/group/e7990662-1551-41b1-99bd-0539849f7d83/CS3710_Week5.pdf
---

Using software, scripts, or commands to take advantage of a vulnerability is called **exploitation**

## Types of Exploits

- Malware - viruses, worms, ransomware
- Network Exploits - DOS, Sniffing, spoofing, replay, reflection, MITM, wireless attacks
- Software Exploits - Vulnerabilities in software, vulnerabilities in configuration of software applications (OS things . . .)

## Software Vulnerabilities

### Ways

- Bugs
- Inject malware
- Execute malware
- Create backdoor
- Steal data

### General

- Error dealing with large inputs
  - Buffer overflow
  - Ping of death (network software exploit)
- Error in not restricting the type of input
  - XSS
  - SQL Injection
  - Land attack (network software exploit)

## Kinds of Buffer Overflows

- Heap-based
- Stack-based
- Fingerd
- OpenSSL

### Mitigations

![](https://i.imgur.com/7VvxDHN.png)

### Shellcode

- Written in machine code
- Often returns/opens a shell for the attacker
- Injected into memory
- NOPs (no operation) - `\x90\x90\x90\x90`

# Metasploit

- Penetration testing framework
- Gives you a root or user shell depending on exploit
- Uses modules, which are just scripts, via command line commands

## Commands

- `msfconsole` - gives you the Metasploit Framework cmd line program
- `msfconsole search` - allows you to search by CVE #, Metasploit module name, or word/parts of word for a specific exploit for your pen testing
- `msfconsole use`
  - Loads exploit
  - Have to use full path in the name column of the `msfconsole search` results
  - After using this command, the prompt will change from `msf` to whatever the exploit is named
  - See options with `options` command once in this new shell
  - Run with `exploit` after options are set

## Options

- `RHOST` - Remote host and is the IP address of the target
- Use `set` to set an option - ex. `set rhost target_ip`
- `PAYLOAD` also required for some attacks (ex. reverse_tcp)
